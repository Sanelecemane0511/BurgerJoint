<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] – BurgerJoint</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    <!-- Bootstrap 5 + Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />
    <!-- Custom Theme -->
    <link rel="stylesheet" href="~/css/theme.css" asp-append-version="true" />

    <!-- CDN Scripts (used by cart & toasts) -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body>
    <!-- ===== HEADER / NAV ===== -->
    <header class="main-header">
        <div class="container d-flex align-items-center justify-content-between py-2">
            <!-- Logo -->
            <a asp-controller="Burger" asp-action="Index" class="d-flex align-items-center text-decoration-none">
                <img src="~/img/logo.png" alt="BurgerJoint" class="logo-img me-2">
                <span class="fs-4 fw-800 text-black">BurgerJoint</span>
            </a>

            <!-- Desktop Nav -->
            <nav class="d-none d-lg-flex gap-4">
                <a asp-controller="Burger" asp-action="Index" class="nav-link active">Home</a>
                <a href="#menu" class="nav-link">Menu</a>
                <a href="#brew" class="nav-link">Beer</a>
                <a asp-controller="Home" asp-action="AboutUs" class="nav-link">About Us</a>
            </nav>

            <!-- Right Side (Search + Login/Cart) -->
            <div class="d-flex align-items-center gap-3">
                <form asp-action="Index" method="get" class="d-flex">
                    <input name="search" class="form-control form-control-sm" placeholder="Search burger..." value="@Context.Request.Query["search"]" />
                    <button class="btn btn-sm btn-outline-secondary ms-1"><i class="bi bi-search"></i></button>
                </form>

                @if (User?.Identity?.IsAuthenticated == true)
                {
                    <a asp-controller="Burger" asp-action="Create" class="nav-link"><i class="bi bi-plus-circle"></i> Add your Own</a>
                    <form asp-controller="Account" asp-action="Logout" method="post" class="d-inline">
                        <button type="submit" class="btn btn-sm btn-outline-secondary">Logout</button>
                    </form>
                }
                else
                {
                    <a asp-controller="Account" asp-action="Login" class="nav-link"><i class="bi bi-box-arrow-in-right"></i> Login</a>
                }

                <!-- Cart Toggle -->
                <button id="cartToggle" class="btn btn-sm btn-accent position-relative">
                    <i class="bi bi-cart4"></i>
                    <span id="cartBadge" class="badge bg-dark position-absolute top-0 start-100 translate-middle">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- ===== MAIN CONTENT ===== -->
    <main class="pb-5">
        @RenderBody()
    </main>

    <!-- ===== STICKY CHECKOUT BAR ===== -->
    <<div id="checkoutBar" class="glass-nav fixed-bottom d-none">
        <div class="container d-flex justify-content-between align-items-center p-3">
            <span id="checkoutTotal" class="fw-bold"></span>
            <button class="btn btn-accent" onclick="checkout()">Checkout →</button>
        </div>
    </div>

    <!-- ===== MEGA FOOTER ===== -->
    <footer class="main-footer py-5">
        <div class="container">
            <div class="row g-4">
                <!-- Brand -->
                <div class="col-lg-4">
                    <img src="~/img/logo.png" alt="BurgerJoint" class="footer-logo mb-2">
                    <p class="small mb-3">Family flame-grilled perfection since 1945. Local beef, fresh buns, cold beer.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                        <a href="#" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                        <a href="#" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div class="col-lg-2 col-6">
                    <h6 class="fw-bold mb-3">Quick Links</h6>
                    <ul class="list-unstyled small">
                        <li class="mb-2"><a asp-controller="Burger" asp-action="Index" class="text-light text-decoration-none">Home</a></li>
                        <li class="mb-2"><a href="#menu" class="text-light text-decoration-none">Menu</a></li>
                        <li class="mb-2"><a href="#brew" class="text-light text-decoration-none">Beer</a></li>
                        <li class="mb-2"><a asp-controller="Home" asp-action="AboutUs" class="text-light text-decoration-none">About Us</a></li>
                        <li class="mb-2"><a asp-controller="Burger" asp-action="Promotion" class="text-light text-decoration-none">Add your Own</a></li>
                    </ul>
                </div>

                <!-- Customer Service -->
                <div class="col-lg-2 col-6">
                    <h6 class="fw-bold mb-3">Customer Service</h6>
                    <ul class="list-unstyled small">
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Contact Us</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">FAQs</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Delivery Info</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Returns</a></li>
                    </ul>
                </div>

                <!-- Legal -->
                <div class="col-lg-2 col-6">
                    <h6 class="fw-bold mb-3">Legal</h6>
                    <ul class="list-unstyled small">
                        <li class="mb-2"><a asp-controller="Home" asp-action="Privacy" class="text-light text-decoration-none">Privacy Policy</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Terms of Use</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Cookie Policy</a></li>
                    </ul>
                </div>

                <!-- Newsletter -->
                <div class="col-lg-2 col-6">
                    <h6 class="fw-bold mb-3">Stay Updated</h6>
                    <form>
                        <div class="input-group input-group-sm">
                            <input type="email" class="form-control" placeholder="Your email">
                            <button class="btn btn-accent" type="submit">Go</button>
                        </div>
                    </form>
                    <p class="small mt-2 mb-0">Get specials straight to your inbox.</p>
                </div>
            </div>

            <hr class="my-4 text-white-50">

            <div class="d-flex flex-column flex-md-row justify-content-between align-items-center small text-white-50">
                <span>© 2025 BurgerJoint (Pty) Ltd – All rights reserved.</span>
                <span class="mt-2 mt-md-0">Made with <i class="bi bi-heart-fill text-danger"></i> in Pretoria.</span>
            </div>
        </div>
    </footer>

    <!-- ===== SCRIPTS ===== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>